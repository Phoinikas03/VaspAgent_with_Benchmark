LOCPROJ = <sites> : <functions-Ylm-specs> : <functions-radial-specs> Default: LOCPROJ = None Description: The LOCPROJ tag specifies local functions on which the orbitals are projected. These projections are written to the PROJCAR file, LOCPROJ file , and vasprun.xml file. When the LOCPROJ tag is set, VASP performs the projection of the Kohn-Sham orbitals {\displaystyle |\psi_{n\mathbf{k}}\rangle} {\displaystyle |\psi_{n\mathbf{k}}\rangle} onto a localized orbitals basis {\displaystyle |\beta^\alpha_{lm}\rangle} {\displaystyle |\beta^\alpha_{lm}\rangle} which can be written as {\displaystyle P^\alpha_{lmn\mathbf{k}} \equiv \langle \beta_{lm}^{\alpha}|S|\psi_{n\mathbf{k}}\rangle = \underbrace{\langle \beta_{lm}^{\alpha}|\psi_{n\mathbf{k}}\rangle}_{P^{\text{SOFT},\alpha}_{lmn\mathbf{k}}} + \underbrace{\sum_{ij} \langle \beta^\alpha_{lm}|\tilde{p}_i\rangle Q_{ij} \langle \tilde{p}_j | \psi_{n\mathbf{k}}\rangle}_{P^{\text{AUG},\alpha}_{lmn\mathbf{k}}}. } {\displaystyle P^\alpha_{lmn\mathbf{k}} \equiv \langle \beta_{lm}^{\alpha}|S|\psi_{n\mathbf{k}}\rangle = \underbrace{\langle \beta_{lm}^{\alpha}|\psi_{n\mathbf{k}}\rangle}_{P^{\text{SOFT},\alpha}_{lmn\mathbf{k}}} + \underbrace{\sum_{ij} \langle \beta^\alpha_{lm}|\tilde{p}_i\rangle Q_{ij} \langle \tilde{p}_j | \psi_{n\mathbf{k}}\rangle}_{P^{\text{AUG},\alpha}_{lmn\mathbf{k}}}. } Here, the two terms on the right-hand side are called soft and augmentation part, respectively. {\displaystyle S} {\displaystyle S} is the overlap matrix, {\displaystyle S = 1+\sum_{ij} |\tilde{p}_i\rangle Q_{ij} \langle \tilde{p}_j|.} {\displaystyle S = 1+\sum_{ij} |\tilde{p}_i\rangle Q_{ij} \langle \tilde{p}_j|.} The radial and the angular part of {\displaystyle \beta^\alpha_{lm}(\mathbf{r})} {\displaystyle \beta^\alpha_{lm}(\mathbf{r})} are described by the LOCPROJ tag, which comprises three parts separated by colons that are denoted as <sites> , <functions-Ylm-specs> , and <functions-radial-specs> . For instance, to perform the projection onto a hydrogen-like 1s function on the first ionic position specified in the POSCAR file, the tag reads Specifying the local basis <sites> : The sites on which the local functions are centered. <functions-Ylm-specs> : The angular character of the local functions on the specified sites. <functions-radial-specs> : The radial dependency of the local functions. For instance, performs the projection onto a hydrogen-like 2s function and a d xy pseudo partial wave (2 nd d channel of atomic species 3) on ionic site 1, and a d xy pseudo partial wave (identical type) on site 3. For other tags, the second instance of a tag in the INCAR is normally ignored. However, here is possible. Example for LOCPROJ tag As mentioned above, to put a hydrogen-like 1s function on the first ionic position specified in the POSCAR file, the tag reads in the INCAR file. To change this into a 2s function, specify To project the orbitals onto the PAW projectors of the valence atomic d xy -states of the atoms on sites 1 and 3, write This will only work if the atoms on these sites have valence atomic d -states. Otherwise, the necessary projectors will not be available in the relevant PAW datasets, and the code will exit in error at startup. To forcibly use the radial function of the second d channel, write Again, provided the PAW dataset(s) contain more than one d channel. Similarly, one can project onto the pseudo partial waves of the second d channel in the PAW dataset(s) by writing To project onto the functions of the third PAW dataset in the POTCAR file, specify LOCPROJ file The LOCPROJ file contains information about the projections of the Bloch states onto the localized orbitals specified with the LOCPROJ tag described above. The file contains a header with the information about all projections: ISITE: Index of the site in the POSCAR file. R: Position in fractional coordinates. Radial type: Is one of "PAW projector","PS partial wave", "Hydrogen-like" depending on the choice of Pr , Ps or Hy , respectively. Angular type: Angular character of the local functions, as presented in the table above in <functions-Ylm-specs> . Each Kohn-Sham orbital is identified by the spin, k point, band index, eigenvalue, and occupation. For each of these Kohn-Sham orbitals, VASP writes the real and imaginary part of the projection onto localized orbitals {\displaystyle \langle \beta_{lm}^{\alpha}|S|\psi_{n\mathbf{k}}\rangle} {\displaystyle \langle \beta_{lm}^{\alpha}|S|\psi_{n\mathbf{k}}\rangle} . Note that for vasp_gam only the real part exists. Related tags and articles LORBIT , PROJCAR Examples that use this tag References