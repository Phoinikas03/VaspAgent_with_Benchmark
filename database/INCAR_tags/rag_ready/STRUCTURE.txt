PLUGINS/STRUCTURE = .True. | .False. Default: PLUGINS/STRUCTURE = .False. Description: PLUGINS/STRUCTURE calls the Python plugin for the structure interface for each ionic relaxation step When PLUGINS/STRUCTURE =.TRUE., VASP calls the structure Python function at the end of each ionic relaxation step. The primary use-case of this tag is to modify the structure based on the computed energy, force and stress tensor. Expected inputs The structure Python function expects the following inputs, where constants and additions and Python dataclasses . The constants dataclass consists of the following inputs, listed here with their associated datatypes Note that the INCAR tags are capitalized. number_ions is the total number of ions listed in the POSCAR file, number_ion_types is the number of ion corresponding to each ion type in the convention of the POSCAR file, ion_types stores the total number of ion types, atomic_numbers contains the atomic number for each atom type, lattice_vectors and positions contain the lattice vectors and positions of the current SCF step forces and stress are the computed forces and stress tensor and charge_density contains the charge density on the real space grid. shape_grid is a three dimensional integer array which stores the shape of the real space grid, NGXF , NGYF and NGZF and charge_density is the charge density on this real space grid. The additions dataclass consists of the following modifiable outputs Modifying quantities Modify the quantities listed in additions by adding to them. Related tags and articles Plugins , PLUGINS/FORCE_AND_STRESS , PLUGINS/LOCAL_POTENTIAL , PLUGINS/MACHINE_LEARNING Examples that use this tag