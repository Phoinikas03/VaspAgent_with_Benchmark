<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-enabled vector-feature-sticky-header-disabled vector-feature-page-tools-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-enabled vector-feature-main-menu-pinned-disabled vector-feature-limited-width-enabled vector-feature-limited-width-content-enabled" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>ML_MODE - VASP Wiki</title>
<script>document.documentElement.className="client-js vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-enabled vector-feature-sticky-header-disabled vector-feature-page-tools-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-enabled vector-feature-main-menu-pinned-disabled vector-feature-limited-width-enabled vector-feature-limited-width-content-enabled";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"eb6660d9c3b8dd3b1319d520","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ML_MODE","wgTitle":"ML MODE","wgCurRevisionId":26000,"wgRevisionId":26000,"wgArticleId":1562,"wgIsArticle":true,
"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["INCAR tag","Machine-learned force fields"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"ML_MODE","wgRelevantArticleId":1562,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgVector2022PreviewPages":[],"wgEditSubmitButtonLabelPublish":false};RLSTATE={"skins.vector.user.styles":"ready","site.styles":"ready","user.styles":"ready","skins.vector.user":"ready","user":"ready","user.options":"loading","mediawiki.ui.button":"ready","skins.vector.styles":"ready","skins.vector.icons":"ready","mediawiki.ui.icon":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","skins.vector.js","skins.vector.es6","ext.visualEditor.desktopArticleTarget.init",
"ext.visualEditor.targetLoader"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="/wiki/load.php?lang=en&amp;modules=ext.visualEditor.desktopArticleTarget.noscript%7Cmediawiki.ui.button%2Cicon%7Cskins.vector.icons%2Cstyles&amp;only=styles&amp;skin=vector-2022"/>
<script async="" src="/wiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector-2022"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/wiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector-2022"/>
<meta name="generator" content="MediaWiki 1.40.1"/>
<meta name="robots" content="max-image-preview:standard"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0"/>
<link rel="icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="VASP Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://www.vasp.at/wiki/api.php?action=rsd"/>
<link rel="license" href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.txt"/>
<link rel="alternate" type="application/atom+xml" title="VASP Wiki Atom feed" href="/wiki/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ML_MODE rootpage-ML_MODE skin-vector-2022 action-view skin--responsive"><div class="mw-page-container">
	<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
	<div class="mw-page-container-inner">
		<input
			type="checkbox"
			id="mw-sidebar-checkbox"
			class="mw-checkbox-hack-checkbox"
			>
		<header class="mw-header mw-ui-icon-flush-left mw-ui-icon-flush-right">
			<div class="vector-header-start">
					<label
				id="mw-sidebar-button"
				class="mw-checkbox-hack-button mw-ui-icon mw-ui-button mw-ui-quiet mw-ui-icon-element mw-ui-icon-flush-right"
				for="mw-sidebar-checkbox"
				role="button"
				aria-controls="mw-panel"
				data-event-name="ui.sidebar"
				tabindex="0"
				title="Main menu">
				<span>Toggle sidebar</span>
			</label>
		
<a href="/wiki/index.php/Main_page" class="mw-logo">
	<span class="mw-logo-container">
		<img class="mw-logo-wordmark" alt="VASP Wiki"
			src="/wiki/images/logo-on-white.png" style="width: 11.1875em; height: 2.5em;">
	</span>
</a>

			</div>
			<div class="vector-header-end">
				
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses vector-search-box">
	<a href="/wiki/index.php/Special:Search"
	
		
		
		
		title="Search VASP Wiki [f]"
		accesskey="f"
		class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search search-toggle">
		<span>Search</span>
	</a>
	
	<div>
		<form action="/wiki/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-moved">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search VASP Wiki" aria-label="Search VASP Wiki" autocapitalize="sentences" title="Search VASP Wiki [f]" accesskey="f" id="searchInput"
				>
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

				<nav class="vector-user-links" aria-label="Personal tools" role="navigation" >
	
<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet mw-portlet-vector-user-menu-overflow"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-login-2" class="user-links-collapsible-item mw-list-item"><a href="/wiki/index.php?title=Special:UserLogin&amp;returnto=ML+MODE" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li></ul>
		
	</div>
</div>

	
<div id="vector-user-links-dropdown" class="vector-menu vector-dropdown vector-menu-dropdown vector-user-menu vector-user-menu-logged-out"  title="More options" >
	<input type="checkbox"
		id="vector-user-links-dropdown-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-vector-user-links-dropdown"
		class="vector-menu-checkbox "
		
		aria-label="Personal tools"
		
	/>
	<label
		id="vector-user-links-dropdown-label"
		for="vector-user-links-dropdown-checkbox"
		class="vector-menu-heading mw-checkbox-hack-button mw-ui-button mw-ui-quiet mw-ui-icon-element "
		aria-hidden="true"
		
	>
		<span class="mw-ui-icon mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis"></span>

		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content vector-dropdown-content">


		
<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal"  title="User menu" >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-login" class="user-links-collapsible-item mw-list-item"><a href="/wiki/index.php?title=Special:UserLogin&amp;returnto=ML+MODE" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="mw-ui-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></li></ul>
		
	</div>
</div>

	
	</div>
</div>
</nav>

			</div>
		</header>
		<div class="vector-main-menu-container ">
			<div id="mw-navigation">
				<nav id="mw-panel" class="vector-main-menu-landmark" aria-label="Site" role="navigation">
						
<div id="vector-main-menu" class="vector-main-menu vector-pinnable-element">
	
	
<div id="p-navigation" class="vector-main-menu-group vector-menu mw-portlet mw-portlet-navigation"  >
	<div
		id="p-navigation-label"
		class="vector-menu-heading "
		
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage-description" class="mw-list-item"><a href="/wiki/index.php/Main_page" title="Visit the main page [z]" accesskey="z"><span>Main page</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-randompage" class="mw-list-item"><a href="/wiki/index.php/Special:Random" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li><li id="n-help-mediawiki" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>Help about MediaWiki</span></a></li></ul>
		
	</div>
</div>

	
	
<div id="p-tb" class="vector-main-menu-group vector-menu mw-portlet mw-portlet-tb"  >
	<div
		id="p-tb-label"
		class="vector-menu-heading "
		
	>
		<span class="vector-menu-heading-label">Tools</span>
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/index.php/Special:WhatLinksHere/ML_MODE" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/index.php/Special:RecentChangesLinked/ML_MODE" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="/wiki/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/wiki/index.php?title=ML_MODE&amp;oldid=26000" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/wiki/index.php?title=ML_MODE&amp;action=info" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</div>

	

</div>

				</nav>
			</div>
		</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"><div id="localNotice"><div class="sitenotice" lang="en" dir="ltr"><p>Requests for technical support from the VASP team should be posted in the <a rel="nofollow" class="external text" href="https://www.vasp.at/forum/">VASP Forum</a>.
</p></div></div></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
			<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned"
	data-feature-name="toc-pinned"
	data-pinnable-element-id="vector-toc"
	
	
>
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text"
			class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Related_tags_and_articles"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Related_tags_and_articles">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Related tags and articles</div>
		</a>
		
		<ul id="toc-Related_tags_and_articles-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

			</div>
		</nav>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main">
				<header class="mw-body-header vector-page-titlebar">
					<label
						id="vector-toc-collapsed-button"
						class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-flush-left mw-ui-icon-element mw-ui-icon-wikimedia-listBullet mw-checkbox-hack-button"
						for="vector-toc-collapsed-checkbox"
						role="button"
						aria-controls="toc-toggle-list"
						data-event-name="vector.toc-toggle-list"
						tabindex="0"
						title="Table of Contents">
						Toggle the table of contents
					</label>
				
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-menu vector-dropdown vector-menu-dropdown vector-page-titlebar-toc mw-ui-icon-flush-left"  >
	<input type="checkbox"
		id="vector-page-titlebar-toc-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-vector-page-titlebar-toc"
		class="vector-menu-checkbox "
		
		aria-label="Toggle the table of contents"
		
	/>
	<label
		id="vector-page-titlebar-toc-label"
		for="vector-page-titlebar-toc-checkbox"
		class="vector-menu-heading mw-checkbox-hack-button mw-ui-button mw-ui-quiet mw-ui-icon-element "
		aria-hidden="true"
		
	>
		<span class="mw-ui-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

		<span class="vector-menu-heading-label">Toggle the table of contents</span>
	</label>
	<div class="vector-menu-content vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>
					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">ML_MODE</h1>
				
				
				</header>
				<div class="vector-page-toolbar">
					<div class="vector-page-toolbar-container">
						<div id="left-navigation">
							<nav aria-label="Namespaces">
								
<div id="p-associated-pages" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-associated-pages"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			<li id="ca-nstab-main" class="selected vector-tab-noicon mw-list-item"><a data-mw="interface" href="/wiki/index.php/ML_MODE" title="View the content page [c]" accesskey="c" class=""><span>Page</span></a>
</li>
<li id="ca-talk" class="new vector-tab-noicon mw-list-item"><a data-mw="interface" href="/wiki/index.php?title=Talk:ML_MODE&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t" class=""><span>Discussion</span></a>
</li>

		</ul>
		
	</div>
</div>

								

<div id="p-variants" class="vector-menu vector-dropdown vector-menu-dropdown mw-portlet mw-portlet-variants emptyPortlet"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-label="Change language variant"
		
		
	/>
	<label
		id="p-variants-label"
		for="p-variants-checkbox"
		class="vector-menu-heading "
		aria-hidden="true"
		
	>
		
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content vector-dropdown-content">

	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>

	</div>
</div>
							</nav>
						</div>
						<div id="right-navigation" class="vector-collapsible">
							<nav aria-label="Views">
								
<div id="p-views" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-views"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			<li id="ca-view" class="selected vector-tab-noicon mw-list-item"><a data-mw="interface" href="/wiki/index.php/ML_MODE" class=""><span>Read</span></a>
</li>
<li id="ca-viewsource" class="vector-tab-noicon mw-list-item"><a data-mw="interface" href="/wiki/index.php?title=ML_MODE&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e" class=""><span>View source</span></a>
</li>
<li id="ca-history" class="vector-tab-noicon mw-list-item"><a data-mw="interface" href="/wiki/index.php?title=ML_MODE&amp;action=history" title="Past revisions of this page [h]" accesskey="h" class=""><span>View history</span></a>
</li>

		</ul>
		
	</div>
</div>

							</nav>
				
							<nav class="vector-page-tools-landmark" aria-label="More options">
								

<div id="p-cactions" class="vector-menu vector-dropdown vector-menu-dropdown mw-portlet mw-portlet-cactions emptyPortlet vector-has-collapsible-items"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		
		aria-label="More"
		
	/>
	<label
		id="p-cactions-label"
		for="p-cactions-checkbox"
		class="vector-menu-heading"
		aria-hidden="true"
		
	>
		
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content vector-dropdown-content">

	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="/wiki/index.php/ML_MODE"><span>Read</span></a></li><li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/wiki/index.php?title=ML_MODE&amp;action=edit"><span>View source</span></a></li><li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/wiki/index.php?title=ML_MODE&amp;action=history"><span>View history</span></a></li></ul>
		
	</div>

	</div>
</div>
							</nav>
						</div>
					</div>
				</div>
				
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From VASP Wiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p><a class="mw-selflink selflink">ML_MODE</a>&#160;= train | select | refit | refitbayesian | run | none<br /> Default: <b>ML_MODE</b> =  none&#160;
</p><p>Description: String-based tag selecting operation mode for machine learning force fields.
</p>
<table style="border: 0px solid #35CABF; padding: 5px; background: #D9F8F5">
<tbody><tr>
<td><b><span style="color: #35CABF;">Mind:</span></b> This tag is only available as of VASP.6.4.0.
</td></tr></tbody></table>
<hr />
<p>This tag acts as a "super tag" and selects the operation mode by selecting the defaults for all other tags. Every tag that is affected by this "super tag" can be overwritten by the user by simply specifying the value for that tag.
The following options are available for this tag:
</p>
<ul>
<li><code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = train</code><b>: On-the-fly training</b><p>
Force predictions from the machine learning force field are used to drive the molecular dynamics (MD) simulation. However, if the error estimation performed in each time step indicates a high force error an ab initio calculation is performed instead and the collected energy, forces, and stress are used to improve the machine learning force field. There are two possible cases depending on, whether an <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> is present in the calculation folder or not:</p>
<ol>
<li>
No <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file found:<p>
On-the-fly training is starting from scratch. Note that at the beginning of the MD run, when there is no force field available or it is still poorly trained, <i>ab initio</i> calculations will happen frequently. For VASP versions prior to 6.4.0 this corresponds to <code style="padding: 2px"><a href="/wiki/index.php/ML_ISTART" title="ML ISTART">ML_ISTART</a> = 0</code>.</p>
</li>
<li>
<a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file present:<p>
Restart on-the-fly training from existing training database. Before the MD run starts the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file (a copy of the <a href="/wiki/index.php/ML_ABN" title="ML ABN">ML_ABN</a> from a previous training run!) is read and the <i>ab initio</i> data (energies, forces, and stresses) and local reference configurations it contains are used to generate an initial force field. Subsequently, the on-the-fly training MD is started. For VASP versions prior to 6.4.0 this corresponds to <code style="padding: 2px"><a href="/wiki/index.php/ML_ISTART" title="ML ISTART">ML_ISTART</a> = 1</code>.</p>
<table style="border: 0px solid #3E70EA; padding: 5px; background: #BBCCF5">
<tbody><tr>
<td><b><span style="color: #3E70EA;">Tip:</span></b> None of the structures in the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file need to match he <a href="/wiki/index.php/POSCAR" title="POSCAR">POSCAR</a> file for the current MD training run in terms of the simulation box, elements, or number of atoms. However, if the same elements appear the initial force field is used for predictions in the current MD run.
<p>The training data contained in the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file is included in the final machine learning force field, i.e., the <a href="/wiki/index.php/ML_FFN" title="ML FFN">ML_FFN</a> file will define a force field applicable to both the structures on the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file as well as to the current MD simulation. This means that by restarting repeatedly with <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = train</code>, and copying the <a href="/wiki/index.php/ML_ABN" title="ML ABN">ML_ABN</a> file from the previous run to <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a>(!), it is possible to iteratively extend the applicability of the a machine learning force field, e.g., by exploring different temperature ranges or element compositions.
</p>
</td></tr></tbody></table>
</li>
</ol>
</li><br />
<li>
<code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = select</code><b>: Re-selection of local reference configurations</b><p>
A new machine learning force field is generated from the <i>ab initio</i> data provided in the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file. The structures are read and processed one by one as if harvested in an MD simulation. In other words, the same steps are performed as in on-the-fly training but the source of the data are not actual <i>ab initio</i> calculations in an MD run but the series of structures available in the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file. The list of local reference configurations on the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file will be ignored. Instead a new collection of local reference configurations is determined and written to the resulting <a href="/wiki/index.php/ML_ABN" title="ML ABN">ML_ABN</a> file.</p>
<table style="border: 0px solid #8342A4; padding: 5px; background: #DEC4EB">
<tbody><tr>
<td><b><span style="color: #8342A4;">Important:</span></b> This operation mode allows to generate a VASP machine learning force field from pre-computed or external <i>ab initio</i> data sets. In contrast to <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = refit</code> also the local reference configurations are selected from the entire data set. For example, an <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file created manually by extracting <i>ab initio</i> data (energies, forces, stresses) from <a href="/wiki/index.php/OUTCAR" title="OUTCAR">OUTCAR</a> files (or even other external sources) can be processed in this mode without prior knowledge of local reference configurations (only a dummy section must be added to the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file, see its documentation). Similar to on-the-fly training this mode generates <a href="/wiki/index.php/ML_FFN" title="ML FFN">ML_FFN</a> files and <a href="/wiki/index.php/ML_ABN" title="ML ABN">ML_ABN</a> <b>with</b> local reference configurations.
</td></tr></tbody></table><p>
A new iteration through the training structures can lead to a frequent update of the force field. This is quite time-consuming. Hence, for this mode the default value of <a href="/wiki/index.php/ML_CDOUB" title="ML CDOUB">ML_CDOUB</a> is automatically increased from 2 to 4 which will result in a much less frequent update of the force field. This leads to much more efficient calculations while practically not changing the results.</p>
<table style="border: 0px solid #3E70EA; padding: 5px; background: #BBCCF5">
<tbody><tr>
<td><b><span style="color: #3E70EA;">Tip:</span></b> If calculations for <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = select</code> are too time-consuming, it is useful to increase <a href="/wiki/index.php/ML_MCONF_NEW" title="ML MCONF NEW">ML_MCONF_NEW</a> to values around 10-16. Together with <code style="padding: 2px"><a href="/wiki/index.php/ML_CDOUB" title="ML CDOUB">ML_CDOUB</a> = 4</code>, this often accelerates the calculations by a factor of 2-4.
</td></tr></tbody></table><p>
The <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file may contain values for <tt>CTIFOR</tt> for each training structure. These are the thresholds used to sample that structure from the previous training. The thresholds found on the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> will be re-used unless a threshold is explicitly specified in the <a href="/wiki/index.php/INCAR" title="INCAR">INCAR</a> file, by means of the <a href="/wiki/index.php/ML_CTIFOR" title="ML CTIFOR">ML_CTIFOR</a> tag. In the latter case the thresholds from the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file are ignored. In case the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> contains <b>no</b> <tt>CTIFOR</tt> information and <b>no</b> threshold is specified in the <a href="/wiki/index.php/INCAR" title="INCAR">INCAR</a> file, the default value for <a href="/wiki/index.php/ML_CTIFOR" title="ML CTIFOR">ML_CTIFOR</a> is used.</p><p class="mw-empty-elt">
</p><p>This mode automatically sets <code style="padding: 2px"><a href="/wiki/index.php/NSW" title="NSW">NSW</a> = 1</code> and <code style="padding: 2px"><a href="/wiki/index.php/ML_CDOUB" title="ML CDOUB">ML_CDOUB</a> = 4</code>.For VASP versions prior to 6.4.0 this corresponds to <code style="padding: 2px"><a href="/wiki/index.php/ML_ISTART" title="ML ISTART">ML_ISTART</a> = 3</code>.
</p>
<table style="border: 0px solid #A82C35; padding: 5px; background: #F1B3BA">
<tbody><tr>
<td><b><span style="color: #A82C35;">Warning:</span></b> <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = select</code> ignores the structure in the <a href="/wiki/index.php/POSCAR" title="POSCAR">POSCAR</a> and hence no error, force and stress predictions are made at the end of this calculation (instead zeros are written to stdout, <a href="/wiki/index.php/OSZICAR" title="OSZICAR">OSZICAR</a> and <a href="/wiki/index.php/OUTCAR" title="OUTCAR">OUTCAR</a>).
</td></tr></tbody></table><p class="mw-empty-elt"></p>
</li><br />
<li><code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = refit</code><b>: Refit a force field for "fast" evaluation</b><p>
Similar to <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = select</code>, refitting is done based on an existing <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file, but the number of local reference configurations for each species is taken from the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file. Sparsification is performed on the local reference configurations, so the resulting <a href="/wiki/index.php/ML_ABN" title="ML ABN">ML_ABN</a> file will contain the same number or fewer local reference configurations than the <a href="/wiki/index.php/ML_AB" title="ML AB">ML_AB</a> file.</p><p>
By default the resulting force field is geared towards "fast" evaluation to speed up production runs (<code style="padding: 2px"><a href="/wiki/index.php/ML_LFAST" title="ML LFAST">ML_LFAST</a> = .TRUE.</code>). This comes at the cost of not being able to evaluate Bayesian error estimates.</p>
<table style="border: 0px solid #A82C35; padding: 5px; background: #F1B3BA">
<tbody><tr>
<td><b><span style="color: #A82C35;">Warning:</span></b> We strongly advise to use <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = refit</code> if no Bayesian error estimates are required during production runs.
</td></tr></tbody></table><p>
This mode automatically sets <code style="padding: 2px"><a href="/wiki/index.php/ML_LFAST" title="ML LFAST">ML_LFAST</a> = .TRUE.</code>, <code style="padding: 2px"><a href="/wiki/index.php/NSW" title="NSW">NSW</a> = 1</code>, <code style="padding: 2px"><a href="/wiki/index.php/ML_IALGO_LINREG" title="ML IALGO LINREG">ML_IALGO_LINREG</a> = 4</code>, <code style="padding: 2px"><a href="/wiki/index.php/ML_SIGW0" title="ML SIGW0">ML_SIGW0</a> = 1E-7</code>, <code style="padding: 2px"><a href="/wiki/index.php/ML_SIGV0" title="ML SIGV0">ML_SIGV0</a> = 1</code> and <code style="padding: 2px"><a href="/wiki/index.php/ML_EPS_LOW" title="ML EPS LOW">ML_EPS_LOW</a> = 1E-11</code>. For VASP versions prior to 6.4.0 this corresponds to <code style="padding: 2px"><a href="/wiki/index.php/ML_ISTART" title="ML ISTART">ML_ISTART</a> = 4</code>.</p>
</li><br />
<li><code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = refitbayesian</code><b>: Refit a force field with Bayesian regression (deprecated)</b><p>
Same as <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = refit</code>, but Bayesian regression is employed. This results in lower accuracy and much slower force fields than using <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = refit</code> and should be used with caution. On the other hand, this mode allows the generation of <a href="/wiki/index.php/ML_FFN" title="ML FFN">ML_FFN</a> files that can calculate Bayesian error estimates in addition to predictions.</p><p>
This modes sets <code style="padding: 2px"><a href="/wiki/index.php/NSW" title="NSW">NSW</a> = 1</code>, <code style="padding: 2px"><a href="/wiki/index.php/ML_IALGO_LINREG" title="ML IALGO LINREG">ML_IALGO_LINREG</a> = 1</code> and <code style="padding: 2px"><a href="/wiki/index.php/ML_LFAST" title="ML LFAST">ML_LFAST</a> = .FALSE.</code>. For VASP versions prior to 6.4.0 this corresponds to <code style="padding: 2px"><a href="/wiki/index.php/ML_ISTART" title="ML ISTART">ML_ISTART</a> = 4</code>.</p>
</li><br />
<li><code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = run</code><b>: Perform only force field predictions</b><p>
A previously trained machine learning force field is read from the <a href="/wiki/index.php/ML_FF" title="ML FF">ML_FF</a> file, and the MD simulation is driven with predictions from the force field only. <b>No</b> <i>ab initio</i> calculations are performed and <b>no</b> learning is executed. This setting is typically used when the machine learning force field is considered mature and ready for production runs.</p><p>
Optionally, if the force field was refitted using <code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = refitbayesian</code>, the Bayesian error estimate of the energies, forces, and stress can be computed and logged in the <a href="/wiki/index.php/ML_LOGFILE" title="ML LOGFILE">ML_LOGFILE</a>. The output frequency of the Bayesian errors can be set via the <a href="/wiki/index.php/ML_IERR" title="ML IERR">ML_IERR</a> tag, the default is 0.</p><p>
For VASP versions prior to 6.4.0 this corresponds to <code style="padding: 2px"><a href="/wiki/index.php/ML_ISTART" title="ML ISTART">ML_ISTART</a> = 2</code>.</p>
</li><br />
<li><code style="padding: 2px"><a class="mw-selflink selflink">ML_MODE</a> = none</code><b>: The tag is ignored</b>
</li></ul><p><br />
</p><table style="border: 0px solid #A82C35; padding: 5px; background: #F1B3BA">
<tbody><tr>
<td><b><span style="color: #A82C35;">Warning:</span></b> If any option other than the above is chosen or there is a spelling error (be careful to write everything in upper case or lower case letters) the code will exit with an error.
</td></tr></tbody></table>
<table style="border: 0px solid #3E70EA; padding: 5px; background: #BBCCF5">
<tbody><tr>
<td><b><span style="color: #3E70EA;">Tip:</span></b> Some choices of <a class="mw-selflink selflink">ML_MODE</a> will automatically set other machine-learned force field tags. However, it is still possible to overwrite the defaults by specifying the corresponding tags in the <a href="/wiki/index.php/INCAR" title="INCAR">INCAR</a> file.
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Related_tags_and_articles">Related tags and articles</span></h2>
<p><a href="/wiki/index.php/ML_LMLFF" title="ML LMLFF">ML_LMLFF</a>, <a href="/wiki/index.php/ML_ISTART" title="ML ISTART">ML_ISTART</a>, <a href="/wiki/index.php/ML_LFAST" title="ML LFAST">ML_LFAST</a>, <a href="/wiki/index.php/ML_IERR" title="ML IERR">ML_IERR</a>, <a href="/wiki/index.php/ML_OUTBLOCK" title="ML OUTBLOCK">ML_OUTBLOCK</a>, <a href="/wiki/index.php/ML_OUTPUT_MODE" title="ML OUTPUT MODE">ML_OUTPUT_MODE</a>, <a href="/wiki/index.php/ML_IALGO_LINREG" title="ML IALGO LINREG">ML_IALGO_LINREG</a>, <a href="/wiki/index.php/ML_MCONF_NEW" title="ML MCONF NEW">ML_MCONF_NEW</a>, <a href="/wiki/index.php/ML_CDOUB" title="ML CDOUB">ML_CDOUB</a>, <a href="/wiki/index.php/ML_CTIFOR" title="ML CTIFOR">ML_CTIFOR</a>, <a href="/wiki/index.php/ML_IERR" title="ML IERR">ML_IERR</a>
</p>
<hr />
<!-- 
NewPP limit report
Cached time: 20250304110505
Cache expiry: 86400
Reduced expiry: false
Complications: [no‐toc‐conversion]
CPU time usage: 0.037 seconds
Real time usage: 0.040 seconds
Preprocessor visited node count: 1240/1000000
Post‐expand include size: 13878/2097152 bytes
Template argument size: 3859/2097152 bytes
Highest expansion depth: 8/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   14.869      1 -total
 33.45%    4.973     34 Template:TAGO
 30.00%    4.460      8 Template:NB
  7.78%    1.156     28 Template:FILE
  6.72%    0.999     27 Template:TAG
  6.68%    0.993      1 Template:TAGDEF
  2.68%    0.398      1 Template:VASP
-->

<!-- Saved in parser cache with key mediawiki-vw:pcache:idhash:1562-0!canonical and timestamp 20250304110505 and revision id 26000. Rendering was triggered because: page-view
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://www.vasp.at/wiki/index.php?title=ML_MODE&amp;oldid=26000">https://www.vasp.at/wiki/index.php?title=ML_MODE&amp;oldid=26000</a>"</div></div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/index.php/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/wiki/index.php/Category:INCAR_tag" title="Category:INCAR tag">INCAR tag</a></li><li><a href="/wiki/index.php/Category:Machine-learned_force_fields" title="Category:Machine-learned force fields">Machine-learned force fields</a></li></ul></div></div>
					
				</div>
				
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 20 August 2024, at 14:43.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.txt">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="/wiki/index.php/VASP_Wiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/index.php/VASP_Wiki:About">About VASP Wiki</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/index.php/VASP_Wiki:General_disclaimer">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.txt"><img src="/wiki/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" loading="lazy"/></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="/wiki/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":168,"wgPageParseReport":{"limitreport":{"cputime":"0.037","walltime":"0.040","ppvisitednodes":{"value":1240,"limit":1000000},"postexpandincludesize":{"value":13878,"limit":2097152},"templateargumentsize":{"value":3859,"limit":2097152},"expansiondepth":{"value":8,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%   14.869      1 -total"," 33.45%    4.973     34 Template:TAGO"," 30.00%    4.460      8 Template:NB","  7.78%    1.156     28 Template:FILE","  6.72%    0.999     27 Template:TAG","  6.68%    0.993      1 Template:TAGDEF","  2.68%    0.398      1 Template:VASP"]},"cachereport":{"timestamp":"20250304110505","ttl":86400,"transientcontent":false}}});});</script>
</body>
<!-- Cached 20250304110506 -->
</html>